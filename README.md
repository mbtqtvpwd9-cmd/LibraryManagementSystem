# å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºSpring Bootçš„ç°ä»£åŒ–å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰ä¸“ä¸šçº§UI/UXè®¾è®¡å’Œå®Œæ•´çš„åŠŸèƒ½å®ç°ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯å’Œæˆæƒï¼ˆç®¡ç†å‘˜å’Œè¯»è€…è§’è‰²ï¼‰
- âœ… å›¾ä¹¦ä¿¡æ¯ç®¡ç†ï¼ˆå®Œæ•´CRUDæ“ä½œï¼‰
- âœ… å›¾ä¹¦ç¼–è¾‘åŠŸèƒ½ï¼ˆæ”¯æŒåˆ†ç±»ã€è¯­è¨€ã€ä½ç½®ç­‰ï¼‰
- âœ… é«˜çº§æœç´¢å’Œç­›é€‰ï¼ˆå¤šæ¡ä»¶ç»„åˆæœç´¢ï¼‰
- âœ… å€Ÿé˜…ç®¡ç†ç³»ç»Ÿï¼ˆå€Ÿä¹¦ã€è¿˜ä¹¦ã€ç»­å€Ÿï¼‰
- âœ… ç»Ÿè®¡æŠ¥è¡¨ä»ªè¡¨ç›˜
- âœ… åˆ†é¡µæŸ¥è¯¢å’Œæ’åº
- âœ… RESTful APIè®¾è®¡
- âœ… JWTä»¤ç‰Œè®¤è¯
- âœ… æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

### ğŸ¨ ç•Œé¢ç‰¹æ€§
- âœ… ç°ä»£åŒ–å“åº”å¼è®¾è®¡
- âœ… ç½‘æ ¼å’Œåˆ—è¡¨åŒè§†å›¾æ¨¡å¼
- âœ… ç¾è§‚çš„å¡ç‰‡å¼å¸ƒå±€
- âœ… æµ®åŠ¨æ“ä½œæŒ‰é’®
- âœ… æ¨¡æ€æ¡†ç¼–è¾‘ç•Œé¢
- âœ… å®æ—¶æœç´¢å’Œç­›é€‰
- âœ… ç»Ÿè®¡æ•°æ®å¯è§†åŒ–

### ğŸ“š å›¾ä¹¦ç®¡ç†
- âœ… å›¾ä¹¦åŸºæœ¬ä¿¡æ¯ï¼ˆISBNã€ä¹¦åã€ä½œè€…ã€å‡ºç‰ˆç¤¾ï¼‰
- âœ… æ‰©å±•ä¿¡æ¯ï¼ˆåˆ†ç±»ã€è¯­è¨€ã€å­˜æ”¾ä½ç½®ï¼‰
- âœ… åº“å­˜ç®¡ç†ï¼ˆæ€»æ•°é‡ã€å·²å€Ÿå‡ºæ•°é‡ï¼‰
- âœ… ä»·æ ¼å’Œå‡ºç‰ˆä¿¡æ¯
- âœ… å°é¢å›¾ç‰‡æ”¯æŒ
- âœ… å›¾ä¹¦çŠ¶æ€ç®¡ç†

### ğŸ”„ å€Ÿé˜…ç®¡ç†
- âœ… å›¾ä¹¦å€Ÿé˜…ç”³è¯·
- âœ… å€Ÿé˜…æœŸé™ç®¡ç†
- âœ… å›¾ä¹¦å½’è¿˜å¤„ç†
- âœ… ç»­å€ŸåŠŸèƒ½
- âœ… é€¾æœŸæé†’
- âœ… å€Ÿé˜…å†å²è®°å½•

### ğŸ‘¥ ç”¨æˆ·è§’è‰²
- **ç®¡ç†å‘˜ (admin/admin123)**: å®Œæ•´ç®¡ç†æƒé™
- **è¯»è€… (reader/reader123)**: æŸ¥è¯¢å’Œå€Ÿé˜…æƒé™

### ğŸŒ æŠ€æœ¯æ ˆ
- **åç«¯**: Java 17, Spring Boot 3.2.0, Spring Security, Spring Data JPA
- **æ•°æ®åº“**: H2 (å¼€å‘ç¯å¢ƒ), MySQL (ç”Ÿäº§ç¯å¢ƒ)
- **å‰ç«¯**: HTML5, CSS3, JavaScript, Bootstrap 5
- **è®¤è¯**: JWT (JSON Web Token)
- **å®¹å™¨åŒ–**: Docker, Docker Compose

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/mbtqtvpwd9-cmd/LibraryManagementSystem.git
cd LibraryManagementSystem
```

2. **è¿è¡Œåº”ç”¨**
```bash
# ä½¿ç”¨Maven
mvn spring-boot:run

# æˆ–è€…ä½¿ç”¨Java
mvn clean package
java -jar target/library-management-system-1.0.0.jar
```

3. **è®¿é—®åº”ç”¨**
- ğŸŒŸ æœ€ç»ˆç•Œé¢: http://localhost:8080
- H2æ•°æ®åº“æ§åˆ¶å°: http://localhost:8080/h2-console
  - JDBC URL: `jdbc:h2:mem:librarydb`
  - ç”¨æˆ·å: `sa`
  - å¯†ç : `password`

### Dockeréƒ¨ç½²

#### æ–¹å¼1ï¼šæ ‡å‡†éƒ¨ç½²
```bash
docker-compose up -d
```

#### æ–¹å¼2ï¼šç¦»çº¿éƒ¨ç½²ï¼ˆæ¨èï¼Œé¿å…ç½‘ç»œé—®é¢˜ï¼‰
```bash
# 1. ä¸‹è½½æ‰€æœ‰éœ€è¦çš„é•œåƒ
./pull-images.sh

# 2. ä¸€é”®ç¦»çº¿éƒ¨ç½²
./offline-deploy.sh
```

#### æ–¹å¼3ï¼šUbuntuåŸºç¡€é•œåƒéƒ¨ç½²ï¼ˆè§£å†³Mavené•œåƒé—®é¢˜ï¼‰
```bash
# 1. ä¸‹è½½åŸºç¡€é•œåƒ
./pull-basic-images.sh

# 2. ä¸€é”®Ubuntuéƒ¨ç½²
./deploy-ubuntu.sh
```

#### è®¿é—®åº”ç”¨
- åº”ç”¨åœ°å€: http://localhost:8080
- MySQLæ•°æ®åº“: localhost:3306

## è…¾è®¯äº‘éƒ¨ç½²æŒ‡å—

### 1. å‡†å¤‡å·¥ä½œ
- è…¾è®¯äº‘Ubuntu 22.04æœåŠ¡å™¨
- Docker 26å·²å®‰è£…
- Gitå·²å®‰è£…

### 2. ä»GitHubéƒ¨ç½²

```bash
# 1. ç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# 2. å…‹éš†é¡¹ç›®
git clone https://github.com/mbtqtvpwd9-cmd/LibraryManagementSystem.git
cd LibraryManagementSystem

# 3. ä¸€é”®æœ€ç»ˆéƒ¨ç½²ï¼ˆæ¨èï¼‰
./final-deploy.sh

# 4. æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose -f docker-compose.ubuntu.yml ps

# 5. æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.ubuntu.yml logs -f app
```

### 3. éƒ¨ç½²æ–¹å¼è¯´æ˜

- **æ–¹å¼1**: `./final-deploy.sh` - æœ€ç»ˆç‰ˆæœ¬ï¼Œä¿®å¤æ‰€æœ‰é—®é¢˜
- **æ–¹å¼2**: `./deploy-ubuntu.sh` - UbuntuåŸºç¡€é•œåƒç‰ˆæœ¬
- **æ–¹å¼3**: `./offline-deploy.sh` - ç¦»çº¿éƒ¨ç½²ç‰ˆæœ¬

### 3. é…ç½®é˜²ç«å¢™
```bash
# å…è®¸8080ç«¯å£
ufw allow 8080
ufw reload
```

### 4. ç”Ÿäº§ç¯å¢ƒé…ç½®
- ä¿®æ”¹ `application-prod.properties` ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯
- ç¡®ä¿MySQLæ•°æ®æŒä¹…åŒ–
- é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰å¯é€‰

## APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `POST /api/auth/logout` - ç”¨æˆ·é€€å‡º

### å›¾ä¹¦æ¥å£
- `GET /api/books` - è·å–å›¾ä¹¦åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- `GET /api/books/{id}` - è·å–å•æœ¬å›¾ä¹¦
- `GET /api/books/search` - æœç´¢å›¾ä¹¦
- `POST /api/books` - æ·»åŠ å›¾ä¹¦ï¼ˆç®¡ç†å‘˜ï¼‰
- `PUT /api/books/{id}` - æ›´æ–°å›¾ä¹¦ï¼ˆç®¡ç†å‘˜ï¼‰
- `DELETE /api/books/{id}` - åˆ é™¤å›¾ä¹¦ï¼ˆç®¡ç†å‘˜ï¼‰

## æ•°æ®åº“ç»“æ„

### ç”¨æˆ·è¡¨ (users)
- id: ä¸»é”®
- username: ç”¨æˆ·å
- password: å¯†ç ï¼ˆåŠ å¯†ï¼‰
- role: è§’è‰²ï¼ˆADMIN/READERï¼‰
- email: é‚®ç®±

### å›¾ä¹¦è¡¨ (books)
- id: ä¸»é”®
- isbn: ISBNå·ï¼ˆå”¯ä¸€ï¼‰
- title: ä¹¦å
- author: ä½œè€…
- publisher: å‡ºç‰ˆç¤¾
- publishYear: å‡ºç‰ˆå¹´ä»½
- price: ä»·æ ¼
- stockQuantity: åº“å­˜æ•°é‡
- description: æè¿°

## å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„
```
src/main/java/com/example/library/
â”œâ”€â”€ LibraryManagementApplication.java  # ä¸»å¯åŠ¨ç±»
â”œâ”€â”€ config/                            # é…ç½®ç±»
â”‚   â”œâ”€â”€ SecurityConfig.java           # å®‰å…¨é…ç½®
â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java # JWTè¿‡æ»¤å™¨
â”‚   â””â”€â”€ DataInitializer.java         # æ•°æ®åˆå§‹åŒ–
â”œâ”€â”€ controller/                       # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ BookController.java          # å›¾ä¹¦æ§åˆ¶å™¨
â”‚   â””â”€â”€ AuthController.java          # è®¤è¯æ§åˆ¶å™¨
â”œâ”€â”€ model/                            # å®ä½“ç±»
â”‚   â”œâ”€â”€ Book.java                    # å›¾ä¹¦å®ä½“
â”‚   â””â”€â”€ User.java                    # ç”¨æˆ·å®ä½“
â”œâ”€â”€ repository/                       # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ BookRepository.java          # å›¾ä¹¦ä»“åº“
â”‚   â””â”€â”€ UserRepository.java          # ç”¨æˆ·ä»“åº“
â”œâ”€â”€ service/                          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ BookService.java             # å›¾ä¹¦æœåŠ¡
â”‚   â””â”€â”€ UserService.java             # ç”¨æˆ·æœåŠ¡
â””â”€â”€ util/                             # å·¥å…·ç±»
    â””â”€â”€ JwtUtil.java                 # JWTå·¥å…·ç±»
```

### ç¯å¢ƒé…ç½®
- å¼€å‘ç¯å¢ƒ: `application.properties` (H2æ•°æ®åº“)
- ç”Ÿäº§ç¯å¢ƒ: `application-prod.properties` (MySQLæ•°æ®åº“)

## é»˜è®¤è´¦æˆ·
- **ç®¡ç†å‘˜**: ç”¨æˆ·å `admin`, å¯†ç  `admin123`
- **è¯»è€…**: ç”¨æˆ·å `reader`, å¯†ç  `reader123`

## è®¸å¯è¯
MIT License